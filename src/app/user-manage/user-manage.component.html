<h2>User Management</h2>

<!-- === User Form === -->
<div style="margin-bottom: 20px;">
  <label>Name:</label>
  <input type="text" [(ngModel)]="name" placeholder="Enter name" />

  <label>Address:</label>
  <input type="text" [(ngModel)]="address" placeholder="Enter address" />

  <label>Email:</label>
  <input type="email" [(ngModel)]="email" placeholder="Enter email" />

  <br /><br />
  <button (click)="id ? updateData(id) : postData()">
    {{ id ? 'Update User' : 'Add User' }}
  </button>
  <button (click)="clearForm()">Clear</button>
</div>

<!-- === Toggle List Button === -->
<hr />
<button (click)="show = !show">
  {{ show ? 'Hide' : 'Show' }} User List
</button>

<!-- === User List === -->
<br /><br />
@if (show) {
  @if (listItems.length > 0) {
    <ul>
      @for (item of listItems; track item.id) {
        <li style="margin-bottom: 15px;">
          <strong>{{ item.name }}</strong> |
          {{ item.address }} |
          {{ item.email }}

          <button (click)="editUser(item)">Edit</button>
          <button (click)="deleteUser(item.id)">Delete</button>
        </li>
      }
    </ul>
  } @else {
    <p>No users available.</p>
  }
}
